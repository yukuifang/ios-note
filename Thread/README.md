多线程

1. 发生死锁的情况一般是两个对象的锁相互等待造成的。
　　那么为什么会产生死锁呢？有3个原因：第一，因为系统资源不足；第二，进程运行推进的顺序不合适；第三，资源分配不当。
　　产生死锁的条件有四个：
　　l 互斥条件：所谓互斥就是进程在某一时间内独占资源。
　　l 请求与保持条件：一个进程因请求资源而阻塞时，对已获得的资源保持不放。
　　l 不剥夺条件:进程已获得资源，在末使用完之前，不能强行剥夺。
　　l 循环等待条件:若干进程之间形成一种头尾相接的循环等待资源关系。
　　死锁通常是一个线程锁定了一个资源A，而又想去锁定资源B；在另一个线程中，锁定了资源B，而又想去锁定资源A以完成自身的操作，两个线程都想得到对方的资源，而不愿释放自己的资源，造成两个线程都在相互等待，造成了无法执行的情况。
　　避免死锁的一个通用的经验法则是:当几个线程都要访问共享资源A、B、C时，保证使每个线程都按照同样的顺序去访问它们，比如都先访问A，在访问B和C。
